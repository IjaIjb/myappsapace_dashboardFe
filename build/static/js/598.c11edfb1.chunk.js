"use strict";(self.webpackChunkmyappspacedashboard=self.webpackChunkmyappspacedashboard||[]).push([[598],{4435:(t,e,o)=>{o.d(e,{F:()=>l});var a=o(1511);let s=function(t){return t.LOGIN="auth/login",t.REGISTER="auth/register",t.HOSTELS="hostels",t.GET_HOSTEL="get-hostel",t.GET_ALL_HOSTEL="get-all-hostel",t.GET_ALL_USERS="get-all-users",t}({});const r={delay:500,dashbordRefreshRate:1,port:8015,appName:"senhost",toastDelay:5e3,tokenStorage:"TOKEN_PERSIST",socket:"mqtt://senshost.com",type:"REST",contextCustomer:"https://api.myappspace.net/v1/customer",contextUser:"https://api.myappspace.net/v1/user",contextAdmin:"https://api.myappspace.net/v1/admin",history:(0,a.zR)(),requestTimeOut:3e4,apiList:s,tablePageSize:10};var n=o(9722),i=o(8272);class c{toJSON(t){return"object"===typeof t?t:"string"===typeof t?this.toJSON(JSON.parse(t)):t}get requestType(){return this._requestType}set requestType(t){this._requestType=t,this.axios.defaults.headers.common["Content-Type"]=t}constructor(){this._requestType=void 0,this.axios=void 0,this.history=void 0,this._requestType="";const t=i.M.getState().data.login.value.token;this.history=r.history;let e={"Content-Type":"application/json",callerType:"web"};t&&(e.Authorization="Bearer ".concat(t)),this.axios=n.A.create({baseURL:"".concat(r.contextUser),timeout:r.requestTimeOut,headers:e}),this.axios.interceptors.request.use((t=>t),(t=>t.request&&t.request.data?Promise.reject(t.request):Promise.reject(t))),this.axios.interceptors.response.use((t=>t),(t=>{var e;return t&&t.response&&t.response.status&&401===t.response.status?"please login to proceed":t&&t.response&&403===t.response.status?"Unauthorized":t&&t.response&&400===t.response.status?"One of the field validation failed":404===(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.status)?"record not found":t&&t.response&&500===t.response.status?"internal server error":Promise.reject(t)}))}}class l{static login(t){return"LOCAL"===r.type?{}:this.authLiveApis.loginUser(t)}static register(t){return"LOCAL"===r.type?{}:this.authLiveApis.registerUser(t)}static verifyMail(t){return"LOCAL"===r.type?{}:this.authLiveApis.verifyMail(t)}static resendVerificationCode(t){return"LOCAL"===r.type?{}:this.authLiveApis.resendVerificationCode(t)}static createStore(t){return"LOCAL"===r.type?{}:this.authLiveApis.createStore(t)}static getStore(){return"LOCAL"===r.type?{}:this.authLiveApis.getStore()}static getSingleStore(t){return"LOCAL"===r.type?{}:this.authLiveApis.getSingleStore(t)}static updateStore(t,e){return"LOCAL"===r.type?{}:this.authLiveApis.updateStore(t,e)}static deleteStore(t){return"LOCAL"===r.type?{}:this.authLiveApis.deleteStore(t)}static createCategory(t,e){return"LOCAL"===r.type?{}:this.authLiveApis.createCategory(t,e)}static getCategory(t){return"LOCAL"===r.type?{}:this.authLiveApis.getCategory(t)}static getSingleCategory(t,e){return"LOCAL"===r.type?{}:this.authLiveApis.getSingleCategory(t,e)}static createProduct(t,e){return"LOCAL"===r.type?{}:this.authLiveApis.createProduct(t,e)}static getProduct(t){return"LOCAL"===r.type?{}:this.authLiveApis.getProduct(t)}static getSingleProduct(t,e){return"LOCAL"===r.type?{}:this.authLiveApis.getSingleProduct(t,e)}static updateProduct(t,e,o){return"LOCAL"===r.type?{}:this.authLiveApis.updateProduct(t,e,o)}static createCustomer(t,e){return"LOCAL"===r.type?{}:this.authLiveApis.createCustomer(t,e)}static getAllCustomer(t){return"LOCAL"===r.type?{}:this.authLiveApis.getAllCustomer(t)}static getSingleCustomer(t,e){return"LOCAL"===r.type?{}:this.authLiveApis.getSingleCustomer(t,e)}static updateCustomer(t,e,o){return"LOCAL"===r.type?{}:this.authLiveApis.updateCustomer(t,e,o)}static logout(t){return"LOCAL"===r.type?{}:this.authLiveApis.logout(t)}}l.authLiveApis=new class extends c{loginUser(t){return this.axios.post("".concat(r.contextUser,"/").concat(r.apiList.LOGIN),t,{headers:{"Content-Type":"application/json"}})}registerUser(t){return this.axios.post("".concat(r.contextUser,"/").concat(r.apiList.REGISTER),t)}verifyMail(t){return this.axios.post("".concat(r.contextUser,"/auth/verify-account"),t)}resendVerificationCode(t){return this.axios.post("".concat(r.contextUser,"/auth/resend-code"),t)}createStore(t){return this.axios.post("".concat(r.contextUser,"/store/create"),t,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getStore(){return this.axios.get("".concat(r.contextUser,"/store/allStores"),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getSingleStore(t){return this.axios.get("".concat(r.contextUser,"/store/").concat(t,"/getOne"),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}updateStore(t,e){return this.axios.put("".concat(r.contextUser,"/store/").concat(t,"/update"),e,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}deleteStore(t){return this.axios.delete("".concat(r.contextUser,"/store/").concat(t,"/remove"),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}createCategory(t,e){return this.axios.post("".concat(r.contextUser,"/").concat(t,"/categories/createOne"),e,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getCategory(t){return this.axios.get("".concat(r.contextUser,"/").concat(t,"/categories/fetchAll"),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getSingleCategory(t,e){return this.axios.get("".concat(r.contextUser,"/").concat(t,"/categories/").concat(e,"/getOne"),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}createProduct(t,e){return this.axios.post("".concat(r.contextUser,"/").concat(t,"/products"),e,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getProduct(t){return this.axios.get("".concat(r.contextUser,"/").concat(t,"/products"),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getSingleProduct(t,e){return this.axios.get("".concat(r.contextUser,"/").concat(t,"/products/").concat(e),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}updateProduct(t,e,o){return this.axios.put("".concat(r.contextUser,"/").concat(t,"/products/").concat(e),o,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}createCustomer(t,e){return this.axios.post("".concat(r.contextUser,"/").concat(t,"/customers/create"),e,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getAllCustomer(t){return this.axios.get("".concat(r.contextUser,"/").concat(t,"/customers/getAll"),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}getSingleCustomer(t,e){return this.axios.get("".concat(r.contextUser,"/").concat(t,"/customers/getOne/").concat(e),{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}updateCustomer(t,e,o){return this.axios.put("".concat(r.contextUser,"/").concat(t,"/customers/update/").concat(e),o,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}logout(t){return this.axios.post("".concat(r.contextUser,"/logout"),t,{headers:{"Content-Type":"aplication/json",Accept:"aplication/json",Authorization:"Bearer ".concat(i.M.getState().data.login.value.token),"Access-Control-Allow-Origin":"*"}})}}},9217:(t,e,o)=>{o.r(e),o.d(e,{default:()=>l});var a=o(5043),s=o(184),r=o(4435),n=o(2115),i=o(6727),c=o(579);const l=()=>{const[t,e]=(0,a.useState)(!1),[o,l]=(0,a.useState)(Array(6).fill("")),u=(0,a.useRef)([]),p="ijabolu@gmail.com",d=(0,i.Zp)();return(0,c.jsx)("div",{children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),e(!0);const a=o.join("");if(6!==a.length)return n.oR.error("Please enter a complete 6-digit code."),void e(!1);try{var s;const t=await r.F.verifyMail({email:p,code:a});!0===(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.user)?(n.oR.success((null===t||void 0===t?void 0:t.message)||"Email verified successfully!"),d("/auth/choose-profession")):n.oR.error((null===t||void 0===t?void 0:t.message)||"Invalid verification code. Please try again.")}catch(i){console.error("Error verifying email:",i),n.oR.error("An error occurred. Please try again.")}finally{e(!1)}},className:"mt-10",children:[(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("img",{src:"/images/logo2.svg",className:"text-center",alt:"myappspace Logo"})}),(0,c.jsxs)("div",{className:"mt-[60px]",children:[(0,c.jsx)("h4",{className:"text-[#000000] text-[24px] font-[700] text-center",children:"Verify email"}),(0,c.jsx)("h4",{className:"text-[#969696] text-[16px] font-[500] text-center",children:"Please check your  mail for a code and input the code here to proceed"})]}),(0,c.jsx)("div",{className:"mx-10 my-10",children:(0,c.jsx)("hr",{})}),(0,c.jsxs)("div",{className:"flex flex-col items-center p-4 ",children:[(0,c.jsx)("h2",{className:"text-black font-bold text-lg mb-4",children:"Verification Code"}),(0,c.jsx)("div",{className:"flex gap-2 mb-4",children:o.map(((t,e)=>(0,c.jsx)("input",{id:"code-input-".concat(e),type:"text",maxLength:1,value:t,onChange:t=>((t,e)=>{const a=t.target.value;if(/^\d$/.test(a)){const t=[...o];var s;t[e]=a,l(t),e<5&&u.current[e+1]&&(null===(s=u.current[e+1])||void 0===s||s.focus())}else if(""===a){const t=[...o];t[e]="",l(t)}})(t,e),onKeyDown:t=>((t,e)=>{var a;"Backspace"===t.key&&""===o[e]&&e>0&&(null===(a=u.current[e-1])||void 0===a||a.focus())})(t,e),className:"w-12 h-12 text-center text-lg border border-gray-300 rounded-md bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500",ref:t=>u.current[e]=t},e)))}),(0,c.jsx)("button",{onClick:async()=>{try{const t=await r.F.resendVerificationCode({email:p});t?(console.log(":Verified",t.data),n.oR.success((null===t||void 0===t?void 0:t.message)||"Verification code resent successfully!"),d("/auth/add-store")):n.oR.error((null===t||void 0===t?void 0:t.message)||"Failed to resend the verification code.")}catch(t){console.error("Error resending code:",t),n.oR.error("An error occurred. Please try again.")}},className:"text-blue-600 font-medium hover:underline",children:"Resend verification code"})]}),(0,c.jsx)("div",{className:"flex justify-center mt-10",children:(0,c.jsxs)("button",{type:"submit",disabled:t,className:"disabled:bg-gray-500  flex gap-2 items-center py-2 w-fit px-6 bg-secondary text-white rounded-full  hover:bg-secondary/[70%]\n}",children:["Proceed",(0,c.jsx)(s.Z0P,{})]})})]})})})}}}]);
//# sourceMappingURL=598.c11edfb1.chunk.js.map