"use strict";(self.webpackChunkmyappspacedashboard=self.webpackChunkmyappspacedashboard||[]).push([[3929],{2905:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(5043),c=s(5475),l=(s(8256),s(8985)),i=s(4630),n=s(5394),r=s(184),o=s(3003),d=s(4435),x=s(579);const p=()=>{const e=(0,o.d4)((e=>{var t;return(null===(t=e.globalState)||void 0===t?void 0:t.selectedStore)||null})),[t,s]=a.useState([]),[p,h]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{m(!e)}),[e]),a.useEffect((()=>{e&&(h(!0),d.F.getCoupon(e).then((e=>{var t;null!==e&&void 0!==e&&e.data&&(console.log(null===e||void 0===e?void 0:e.data),s((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.coupons)||[]))})).catch((function(e){console.error("Error fetching coupons:",e)})).finally((()=>{h(!1)})))}),[e]);const v=e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return e}};return(0,x.jsxs)(i.A,{children:[(0,x.jsx)(l.a,{classNames:{modal:"rounded-[10px] overflow-visible relative"},open:u,onClose:()=>{},closeOnEsc:!1,closeOnOverlayClick:!1,showCloseIcon:!1,center:!0,children:(0,x.jsx)("div",{className:"px-2 md:px-5 h-[100px] flex justify-center items-center text-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"text-[20px] font-[600] mb-4",children:"Don't have a Store?"}),(0,x.jsx)(c.N_,{to:"/dashboard/create-store",className:"underline text-blue-800",children:"Create a Store"})]})})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"flex gap-3 items-center mb-7",children:(0,x.jsxs)(c.N_,{to:"/dashboard/create-coupon",className:"rounded-full h-fit flex items-center gap-3 px-4 py-2",style:{background:"linear-gradient(to bottom, #382B67, #7056CD)"},children:[(0,x.jsx)(n.QwN,{className:"text-white"}),(0,x.jsx)("h5",{className:"text-[#FFFFFF] text-[16px] font-[400] whitespace-nowrap",children:"Create Coupon"})]})}),(0,x.jsx)("div",{className:"shadow-lg sm:rounded-lg w-full mt-6 overflow-x-auto",children:p?(0,x.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-purple-700"})}):0===t.length?(0,x.jsx)("div",{className:"text-center py-10 text-gray-500",children:"No coupons found. Create your first coupon to get started."}):(0,x.jsxs)("table",{className:"min-w-full text-sm text-gray-500 divide-y divide-gray-200",children:[(0,x.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"S/N"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Coupon Code"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Discount"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Expiry Date"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Created At"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Status"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 text-left",children:"Actions"})]})}),(0,x.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(((e,t)=>(0,x.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t+1}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.code}),(0,x.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.discount_value,"percentage"===e.discount_type?"%":" (Fixed)"]}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:v(e.expiry_date)}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:v(e.created_at)}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,x.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})}),(0,x.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-left text-sm font-medium",children:(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsx)("button",{onClick:()=>{return t=e.id,s=e.is_active,void console.log("Toggling coupon ".concat(t," from ").concat(s?"active":"inactive"," to ").concat(s?"inactive":"active"));var t,s},className:"text-purple-600 hover:text-purple-900",title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,x.jsx)(r.RIx,{className:"text-xl"}):(0,x.jsx)(r.jZj,{className:"text-xl"})}),(0,x.jsx)(c.N_,{to:"/dashboard/edit-coupon/".concat(e.id),className:"text-indigo-600 hover:text-indigo-900",title:"Edit",children:(0,x.jsx)(r.uO9,{})})]})})]},e.id)))})]})})]})]})}}}]);
//# sourceMappingURL=3929.5811a577.chunk.js.map