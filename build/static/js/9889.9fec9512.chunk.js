"use strict";(self.webpackChunkmyappspacedashboard=self.webpackChunkmyappspacedashboard||[]).push([[9889],{9217:(e,a,r)=>{r.r(a),r.d(a,{default:()=>u});var s=r(5043),t=r(184),o=r(4435),i=r(3216),n=r(3003),l=r(7488),c=(r(2342),r(7584)),d=r(579);const u=()=>{const[e,a]=(0,s.useState)(!1),[r,u]=(0,s.useState)(Array(6).fill("")),f=(0,s.useRef)([]),m=(0,n.wA)(),{email:x}=(0,n.d4)((e=>{var a;return null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.login.value})),v=(0,i.Zp)();return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex justify-center",children:[(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(!0);const s=r.join("");if(6!==s.length)return l.oR.error("Please enter a complete 6-digit code."),void a(!1);try{const e=await o.F.verifyMail({email:x,code:s});null!==e&&void 0!==e&&e.data?(m((0,c.iD)({login:e.data.data.user.email,token:e.data.data.token.access_token,id:e.data.data.id,data:null===e||void 0===e?void 0:e.data.data.user})),l.oR.success((null===e||void 0===e?void 0:e.message)||"Email verified successfully!"),v("/auth/add-store")):l.oR.error((null===e||void 0===e?void 0:e.message)||"Invalid verification code. Please try again.")}catch(t){console.error("Error verifying email:",t),l.oR.error("An error occurred. Please try again.")}finally{a(!1)}},className:"mt-10",children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("a",{href:"https://myappspace.net/",rel:"noreferrer",target:"_blank",children:(0,d.jsx)("img",{src:"/images/auth/MyAppspace (3).png",className:"w-[170px] h-full text-center",alt:"Logo"})})}),(0,d.jsxs)("div",{className:"mt-[60px]",children:[(0,d.jsx)("h4",{className:"text-[#000000] text-[24px] font-[700] text-center",children:"Verify email"}),(0,d.jsx)("h4",{className:"text-[#969696] text-[16px] font-[500] text-center",children:"Please check your  mail for a code and input the code here to proceed"})]}),(0,d.jsx)("div",{className:"mx-10 my-10",children:(0,d.jsx)("hr",{})}),(0,d.jsxs)("div",{className:"flex flex-col items-center p-4 ",children:[(0,d.jsx)("h2",{className:"text-black font-bold text-lg mb-4",children:"Verification Code"}),(0,d.jsx)("div",{className:"flex gap-2 mb-4",children:r.map(((e,a)=>(0,d.jsx)("input",{id:"code-input-".concat(a),type:"text",maxLength:1,value:e,onChange:e=>((e,a)=>{const s=e.target.value;if(/^\d$/.test(s)){const e=[...r];var t;e[a]=s,u(e),a<5&&f.current[a+1]&&(null===(t=f.current[a+1])||void 0===t||t.focus())}else if(""===s){const e=[...r];e[a]="",u(e)}})(e,a),onKeyDown:e=>((e,a)=>{var s;"Backspace"===e.key&&""===r[a]&&a>0&&(null===(s=f.current[a-1])||void 0===s||s.focus())})(e,a),className:"w-12 h-12 text-center text-lg border border-gray-300 rounded-md bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500",ref:e=>f.current[a]=e},a)))}),(0,d.jsx)("button",{onClick:async()=>{try{const a=await o.F.resendVerificationCode({email:x});var e;if(a)l.oR.success((null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message)||"Verification code resent successfully!");else l.oR.error((null===a||void 0===a?void 0:a.message)||"Failed to resend the verification code.")}catch(a){console.error("Error resending code:",a),l.oR.error("An error occurred. Please try again.")}},className:"text-blue-600 font-medium hover:underline",children:"Resend verification code"})]}),(0,d.jsx)("div",{className:"flex justify-center mt-10",children:(0,d.jsxs)("button",{type:"submit",disabled:e,className:"disabled:bg-gray-500  flex gap-2 items-center py-2 w-fit px-6 bg-secondary text-white rounded-full  hover:bg-secondary/[70%]\n}",children:["Proceed",(0,d.jsx)(t.Z0P,{})]})})]}),(0,d.jsx)(l.N9,{position:"top-right",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})}}}]);
//# sourceMappingURL=9889.9fec9512.chunk.js.map